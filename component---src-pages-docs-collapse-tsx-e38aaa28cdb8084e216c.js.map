{"version":3,"sources":["webpack:///../lib/src/Collapse/Collapse.tsx?4038","webpack:///../lib/src/Collapse/Collapse.tsx","webpack:///./src/pages/docs/collapse.tsx","webpack:///../lib/src/Button/Button.tsx","webpack:///../lib/src/Collapse/index.ts"],"names":["module","exports","Collapse","React","memo","toggle","props","collapseRef","useRef","useState","height","display","opacity","styles","setStyles","expand","useCallback","setTimeout","current","scrollHeight","collapse","afterTransition","e","propertyName","onTransitionEnd","useEffect","className","classnames","ref","style","children","importString","require","CollapsePage","setToggle","mainFile","example","code","controls","size","onClick","Button","theme","block","setClassName"],"mappings":"6EAAAA,EAAOC,QAAU,qvF,8HCUJC,G,UAAoCC,IAAMC,MAAK,YAAiD,QAA9CC,cAA8C,SAA3BC,EAA2B,0BACnGC,EAAsDJ,IAAMK,SADuC,EAE7EL,IAAMM,SAA8B,CAC5DC,OAAQL,EAAS,OAAS,EAC1BM,QAASN,EAAS,QAAU,OAC5BO,SAAUP,IAHPQ,EAFkG,KAE1FC,EAF0F,KASnGC,EAASZ,IAAMa,aAAY,WAE7BF,EAAU,OAAD,UAAMD,EAAN,CAAcF,QAAS,WAEhCM,YAAW,WACPH,EAAU,CAAEH,QAAS,QAASD,OAAQH,EAAYW,QAAQC,aAAcP,QAAS,MAClF,MACJ,CAACC,IAGEO,EAAWjB,IAAMa,aAAY,WAE/BF,EAAU,OAAD,UAAMD,EAAN,CAAcH,OAAQH,EAAYW,QAAQC,gBAEnDF,YAAW,WACPH,EAAU,OAAD,UAAMD,EAAN,CAAcH,OAAQ,EAAGE,QAAS,OAC5C,MACJ,CAACC,IAMEQ,EAAkBlB,IAAMa,aAC1B,SAACM,GAC0B,WAAnBA,EAAEC,cAEET,EADAT,EACU,OAAD,UAAMQ,EAAN,CAAcH,OAAQ,SAErB,OAAD,UAAMG,EAAN,CAAcF,QAAS,UAGxCL,EAAMkB,iBAAmBlB,EAAMkB,gBAAgBF,KAEnD,CAACT,EAAQR,EAAQC,EAAMkB,kBAc3B,OAXArB,IAAMsB,WAAU,WACZ,QAAQ,GACJ,KAAKpB,GAA4B,GAAlBQ,EAAOD,QAClBG,IACA,MACJ,KAAMV,GAA4B,GAAlBQ,EAAOD,QACnBQ,OAGT,CAACf,IAGA,yCAASC,EAAT,CAAgBoB,UAAWC,IAAW,kBAAmBrB,EAAMoB,WAAYE,IAAKrB,EAAasB,MAAOhB,EAAQW,gBAAiBH,IACxHf,EAAMwB,e,kCCrEnB,oEAKMC,EAAuBC,EAAQ,QA0BtBC,UAvBgB,WAAM,MACL9B,IAAMM,UAAkB,GAA7CJ,EAD0B,KAClB6B,EADkB,KAGjC,OACI,kBAAC,IAAD,CACIC,SAAUJ,EACVK,QACI,kBAAC,IAAD,CAAU/B,OAAQA,GACd,gLACA,2JACA,4KAGRgC,KAfS,+CAgBTC,SACI,kBAAC,IAAD,CAAQC,KAAK,KAAKC,QAAS,kBAAMN,GAAW7B,KAA5C,uB,8HCRHoC,EAAgCtC,IAAMC,MAAK,YAA+D,QAA5DsC,aAA4D,MAApD,UAAoD,EAAzCH,EAAyC,EAAzCA,KAAMI,EAAmC,EAAnCA,MAAUrC,EAAyB,0CACjFH,IAAMM,SAAiB,mBAAlDiB,EAD4G,KACjGkB,EADiG,KAOnH,OAJAzC,IAAMsB,WAAU,WAAM,MAClBmB,EAAajB,IAAW,KAAM,MAAP,OAAqBe,IAArB,aAAwCH,GAASA,EAAjD,EAAuD,aAAaI,EAApE,GAA6ErC,EAAMoB,cAC3G,CAACa,EAAMG,EAAOC,EAAOrC,EAAMoB,YAG1B,4CAAYpB,EAAZ,CAAmBoB,UAAWA,IACzBpB,EAAMwB,c,yDCxBnB","file":"component---src-pages-docs-collapse-tsx-e38aaa28cdb8084e216c.js","sourcesContent":["module.exports = \"import React from \\\"react\\\";\\nimport classnames from \\\"classnames\\\";\\nimport \\\"./collapse.scss\\\";\\n\\nexport type CollapseProps = JSX.IntrinsicElements[\\\"div\\\"] & {\\n    /** True to expand, false to collapse */\\n    toggle?: boolean;\\n};\\n\\n/** A helper component for collapsing any content placed inside of it */\\nexport const Collapse: React.FC<CollapseProps> = React.memo(({ toggle = false, ...props }: CollapseProps) => {\\n    const collapseRef: React.MutableRefObject<HTMLDivElement> = React.useRef<HTMLDivElement>();\\n    const [styles, setStyles] = React.useState<React.CSSProperties>({\\n        height: toggle ? \\\"auto\\\" : 0,\\n        display: toggle ? \\\"block\\\" : \\\"none\\\",\\n        opacity: +toggle,\\n    });\\n\\n    /** Expand the content */\\n    const expand = React.useCallback((): void => {\\n        /** Cannot transition when display is set to `none`, we need to change it to `block` */\\n        setStyles({ ...styles, display: \\\"block\\\" });\\n        /** This async delay is needed for the height change to take effect */\\n        setTimeout(() => {\\n            setStyles({ display: \\\"block\\\", height: collapseRef.current.scrollHeight, opacity: 1 });\\n        }, 10);\\n    }, [styles]);\\n\\n    /** Collapse the content */\\n    const collapse = React.useCallback((): void => {\\n        /** Since height `auto` will not transition, we need to change it to pixels */\\n        setStyles({ ...styles, height: collapseRef.current.scrollHeight });\\n        /** This async delay is needed for the height change to take effect */\\n        setTimeout(() => {\\n            setStyles({ ...styles, height: 0, opacity: 0 });\\n        }, 10);\\n    }, [styles]);\\n\\n    /**\\n     * An event handler triggered after collapse/expand transition ends\\n     * @param e The transition event\\n     */\\n    const afterTransition = React.useCallback(\\n        (e: React.TransitionEvent<HTMLDivElement>): void => {\\n            if (e.propertyName === \\\"height\\\") {\\n                if (toggle) {\\n                    setStyles({ ...styles, height: \\\"auto\\\" });\\n                } else {\\n                    setStyles({ ...styles, display: \\\"none\\\" });\\n                }\\n            }\\n            props.onTransitionEnd && props.onTransitionEnd(e);\\n        },\\n        [styles, toggle, props.onTransitionEnd]\\n    );\\n\\n    React.useEffect(() => {\\n        switch (true) {\\n            case toggle && styles.opacity == 0:\\n                expand();\\n                break;\\n            case !toggle && styles.opacity == 1:\\n                collapse();\\n                break;\\n        }\\n    }, [toggle]);\\n\\n    return (\\n        <div {...props} className={classnames(\\\"custom-collapse\\\", props.className)} ref={collapseRef} style={styles} onTransitionEnd={afterTransition}>\\n            {props.children}\\n        </div>\\n    );\\n});\\n\"","import React from \"react\";\nimport classnames from \"classnames\";\nimport \"./collapse.scss\";\n\nexport type CollapseProps = JSX.IntrinsicElements[\"div\"] & {\n    /** True to expand, false to collapse */\n    toggle?: boolean;\n};\n\n/** A helper component for collapsing any content placed inside of it */\nexport const Collapse: React.FC<CollapseProps> = React.memo(({ toggle = false, ...props }: CollapseProps) => {\n    const collapseRef: React.MutableRefObject<HTMLDivElement> = React.useRef<HTMLDivElement>();\n    const [styles, setStyles] = React.useState<React.CSSProperties>({\n        height: toggle ? \"auto\" : 0,\n        display: toggle ? \"block\" : \"none\",\n        opacity: +toggle,\n    });\n\n    /** Expand the content */\n    const expand = React.useCallback((): void => {\n        /** Cannot transition when display is set to `none`, we need to change it to `block` */\n        setStyles({ ...styles, display: \"block\" });\n        /** This async delay is needed for the height change to take effect */\n        setTimeout(() => {\n            setStyles({ display: \"block\", height: collapseRef.current.scrollHeight, opacity: 1 });\n        }, 10);\n    }, [styles]);\n\n    /** Collapse the content */\n    const collapse = React.useCallback((): void => {\n        /** Since height `auto` will not transition, we need to change it to pixels */\n        setStyles({ ...styles, height: collapseRef.current.scrollHeight });\n        /** This async delay is needed for the height change to take effect */\n        setTimeout(() => {\n            setStyles({ ...styles, height: 0, opacity: 0 });\n        }, 10);\n    }, [styles]);\n\n    /**\n     * An event handler triggered after collapse/expand transition ends\n     * @param e The transition event\n     */\n    const afterTransition = React.useCallback(\n        (e: React.TransitionEvent<HTMLDivElement>): void => {\n            if (e.propertyName === \"height\") {\n                if (toggle) {\n                    setStyles({ ...styles, height: \"auto\" });\n                } else {\n                    setStyles({ ...styles, display: \"none\" });\n                }\n            }\n            props.onTransitionEnd && props.onTransitionEnd(e);\n        },\n        [styles, toggle, props.onTransitionEnd]\n    );\n\n    React.useEffect(() => {\n        switch (true) {\n            case toggle && styles.opacity == 0:\n                expand();\n                break;\n            case !toggle && styles.opacity == 1:\n                collapse();\n                break;\n        }\n    }, [toggle]);\n\n    return (\n        <div {...props} className={classnames(\"custom-collapse\", props.className)} ref={collapseRef} style={styles} onTransitionEnd={afterTransition}>\n            {props.children}\n        </div>\n    );\n});\n","import React from \"react\";\nimport Docs from \"@common/Docs\";\nimport { Collapse } from \"@sebgroup/react-components/Collapse\";\nimport { Button } from \"@sebgroup/react-components/Button\";\n\nconst importString: string = require(\"!raw-loader!@sebgroup/react-components/Collapse/Collapse\");\nconst code: string = `<Collapse toggle={toggle}>content</Collapse>`;\n\nconst CollapsePage: React.FC = () => {\n    const [toggle, setToggle] = React.useState<boolean>(true);\n\n    return (\n        <Docs\n            mainFile={importString}\n            example={\n                <Collapse toggle={toggle}>\n                    <p>Aut perferendis et. Et necessitatibus aliquid sit. Id illum minus qui atque autem. Qui dolorem amet beatae quasi. Sunt sunt id repellendus rerum.</p>\n                    <p>Occaecati vel incidunt id sapiente facere ut itaque repudiandae. Unde numquam sunt totam et delectus. Sit et fugit fuga aut.</p>\n                    <p>Sed amet ab. Aut vel ipsam dolore. Ut ratione consequatur autem id adipisci corrupti et nam. Labore rerum debitis nihil sit aut ut mollitia.</p>\n                </Collapse>\n            }\n            code={code}\n            controls={\n                <Button size=\"sm\" onClick={() => setToggle(!toggle)}>\n                    Toggle collapse\n                </Button>\n            }\n        />\n    );\n};\n\nexport default CollapsePage;\n","import React from \"react\";\nimport classnames from \"classnames\";\n\nexport type ButtonTheme = \"primary\" | \"secondary\" | \"danger\" | \"outline-primary\" | \"outline-danger\" | \"dark\" | \"light\" | \"link\";\nexport type ButtonSize = \"lg\" | \"md\" | \"sm\";\n\nexport type ButtonProps = JSX.IntrinsicElements[\"button\"] & {\n    /** Button Theme */\n    theme?: ButtonTheme;\n    /** Button size */\n    size?: ButtonSize;\n    /** Fill the parent width */\n    block?: boolean;\n};\n/** Buttons allow users to take action with a single tap. */\nexport const Button: React.FC<ButtonProps> = React.memo(({ theme = \"primary\", size, block, ...props }: ButtonProps) => {\n    const [className, setClassName] = React.useState<string>(\"btn btn-primary\");\n\n    React.useEffect(() => {\n        setClassName(classnames(\"rc\", \"btn\", `btn-${theme}`, { [`btn-${size}`]: size, \"btn-block\": block }, props.className));\n    }, [size, theme, block, props.className]);\n\n    return (\n        <button {...props} className={className}>\n            {props.children}\n        </button>\n    );\n});\n","export * from \"./Collapse\";\n"],"sourceRoot":""}