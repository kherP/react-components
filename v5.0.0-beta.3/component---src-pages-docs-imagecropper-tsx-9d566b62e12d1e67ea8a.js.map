{"version":3,"sources":["webpack:///../lib/src/Modal/Modal.tsx","webpack:///../lib/src/ImageCropper/ImageCropper.tsx?96f5","webpack:///../lib/src/ImageCropper/ResizeHandle.tsx","webpack:///../lib/src/ImageCropper/ImagePicker.tsx","webpack:///../lib/src/ImageCropper/utils.ts","webpack:///../lib/src/ImageCropper/ImageCropper.tsx","webpack:///./src/pages/docs/imagecropper.tsx"],"names":["safeDocument","document","Modal","React","memo","trapFocus","autoFocus","centered","size","fullscreen","onEscape","onBackdropDismiss","position","toggle","props","dialogRef","useRef","useState","isPristine","setIsPristine","useEffect","body","classList","add","remove","tabHandler","e","key","toLowerCase","focusableElements","Array","from","current","querySelectorAll","filter","el","className","length","shiftKey","activeElement","contains","focus","querySelector","addEventListener","removeEventListener","keyupListener","createPortal","classnames","show","hide","role","tabIndex","aria-modal","onClick","target","onAnimationEnd","ref","children","href","module","exports","ResizeHandle","coordinates","handleResize","style","top","includes","bottom","left","right","draggable","onMouseDown","onTouchStart","ImagePicker","width","height","image","src","ImagePlaceholderIcon","type","onSelect","onReset","xmlns","viewBox","fill","fillRule","d","prevMovement","x","y","getMovement","event","screenX","screenY","touchEvent","touches","mouseEvent","movementX","movementY","addListener","callback","cancelTypes","stop","forEach","t","onkeyup","cancelType","ImageCropper","onChange","value","text","fileRef","imgRef","modalToggle","setModalToggle","imgSrc","setImgSrc","croppedImgSrc","setCroppedImgSrc","pos","setPos","handleInput","useCallback","Promise","resolve","reject","input","files","reader","FileReader","onload","result","toString","readAsDataURL","readImage","then","val","console","error","handleMove","ev","img","oldPos","shouldUpdateY","clientHeight","shouldUpdateX","clientWidth","moveHandler","replace","trim","change","resizeHandler","reset","accept","onInput","hidden","click","select","clip","cancel","url","imgContainer","inputImage","Image","canvas","createElement","maxDrawnSize","Math","min","scaleX","scaleY","getContext","drawImage","toDataURL","crop","importString","require","ImageCropperPage","setImage","useDynamicForm","items","label","description","controlType","renderForm","controls","Docs","mainFile","example","parseInt","selectText","cropText","cancelText","code"],"mappings":"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","file":"component---src-pages-docs-imagecropper-tsx-9d566b62e12d1e67ea8a.js","sourcesContent":["import React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport classnames from \"classnames\";\nimport \"./modal.scss\";\n\nexport type ModalPosition = \"left\" | \"right\" | \"default\";\nexport type ModalSize = \"lg\" | \"md\" | \"sm\";\ntype FocusableElements = HTMLInputElement | HTMLButtonElement | HTMLAnchorElement;\n\nexport type ModalProps = JSX.IntrinsicElements[\"div\"] & {\n    /** Centers the modal in the middle of the screen. Default is `false` */\n    centered?: boolean;\n    /** Size of modal `lg` | `md` | `sm` */\n    size?: ModalSize;\n    /** Toggle fullscreen modal, default is `false` */\n    fullscreen?: boolean;\n    /** Event triggered when escape key is triggered */\n    onEscape?: (e: KeyboardEvent) => void;\n    /** Event triggered when the backdrop is clicked */\n    onBackdropDismiss?: React.MouseEventHandler<HTMLDivElement>;\n    /** Modal position. Available positions: `left`, `right` */\n    position?: ModalPosition;\n    /** Modal toggle */\n    toggle?: boolean;\n    /** To only allow tab to focus within modal */\n    trapFocus?: boolean;\n    /** Automatically focuses on the first input element in the modal dialog */\n    autoFocus?: boolean;\n};\n\n// This solution is meant to fix Gatsby build which complains that document doesn't exist in server-side rendering\nconst safeDocument: Document | null = typeof document !== \"undefined\" ? document : null;\n\n/** The modal component provides a solid foundation for creating dialogs or slideout modals */\nexport const Modal: React.FC<ModalProps> = React.memo(({ trapFocus, autoFocus, centered, size, fullscreen, onEscape, onBackdropDismiss, position, toggle, ...props }: ModalProps) => {\n    const dialogRef: React.MutableRefObject<HTMLDivElement> = React.useRef<HTMLDivElement>();\n    const [isPristine, setIsPristine] = React.useState<boolean>(true);\n\n    React.useEffect(() => {\n        if (toggle) {\n            isPristine && setIsPristine(false);\n            document.body.classList.add(\"modal-open\");\n        } else {\n            document.body.classList.remove(\"modal-open\");\n        }\n    }, [toggle]);\n\n    /** Focus trap */\n    React.useEffect(() => {\n        function tabHandler(e: KeyboardEvent) {\n            if (e.key.toLowerCase() === \"tab\") {\n                const lastFocusable: string = \"last-focusable-element\";\n                const focusableElements: FocusableElements[] = Array.from(dialogRef.current.querySelectorAll<FocusableElements>(\"input, button, a\")).filter((el) => el.className !== lastFocusable);\n\n                if (focusableElements.length) {\n                    if (!e.shiftKey) {\n                        // Descending focus\n                        if (document.activeElement.className === lastFocusable && dialogRef.current.contains(document.activeElement)) {\n                            dialogRef.current.querySelector<FocusableElements>(\"input, button, a\").focus();\n                        } else if (!dialogRef.current.contains(document.activeElement)) {\n                            dialogRef.current.querySelector<FocusableElements>(\"input, button, a\").focus();\n                        }\n                    } else {\n                        // Ascending focus\n                        if ((document.activeElement.className === lastFocusable && dialogRef.current.contains(document.activeElement)) || !dialogRef.current.contains(document.activeElement)) {\n                            focusableElements[focusableElements.length - 1].focus();\n                        }\n                    }\n                }\n            }\n        }\n\n        if (trapFocus && toggle) {\n            document.addEventListener(\"keyup\", tabHandler);\n        } else {\n            document.removeEventListener(\"keyup\", tabHandler);\n        }\n\n        return () => document.removeEventListener(\"keyup\", tabHandler);\n    }, [trapFocus, toggle]);\n\n    // Escape key listner\n    React.useEffect(() => {\n        function keyupListener(e: KeyboardEvent) {\n            e.key.toLowerCase() === \"escape\" && onEscape(e);\n        }\n\n        if (onEscape && toggle) {\n            document.addEventListener(\"keyup\", keyupListener);\n        } else {\n            document.removeEventListener(\"keyup\", keyupListener);\n        }\n\n        return () => document.removeEventListener(\"keyup\", keyupListener);\n    }, [onEscape, toggle]);\n\n    return !safeDocument\n        ? null\n        : createPortal(\n              <div\n                  {...props}\n                  className={classnames(\n                      \"rc\",\n                      \"modal\",\n                      {\n                          show: toggle,\n                          hide: !toggle && !isPristine,\n                          \"modal-centered\": centered,\n                          \"modal-aside\": position && position !== \"default\" && !fullscreen,\n                          [`modal-aside-${[position]}`]: position && position !== \"default\" && !fullscreen,\n                          \"modal-fullscreen\": fullscreen,\n                      },\n                      props.className\n                  )}\n                  role={props.role || \"dialog\"}\n                  tabIndex={props.tabIndex || -1}\n                  aria-modal=\"true\"\n                  onClick={(e) => {\n                      props.onClick && props.onClick(e);\n\n                      const target: HTMLDivElement = e.target as any;\n\n                      if (onBackdropDismiss && target.classList.contains(\"rc\") && target.classList.contains(\"modal\")) {\n                          onBackdropDismiss(e);\n                      }\n                  }}\n                  onAnimationEnd={(e) => {\n                      props.onAnimationEnd && props.onAnimationEnd(e);\n\n                      if (fullscreen && autoFocus && toggle && !dialogRef.current.contains(document.activeElement)) {\n                          dialogRef.current.querySelector(\"input\")?.focus();\n                      }\n                  }}\n              >\n                  <div\n                      ref={dialogRef}\n                      role=\"document\"\n                      className={classnames(\"modal-dialog\", { [`modal-${size}`]: size })}\n                      onAnimationEnd={() => {\n                          if (autoFocus && toggle && !dialogRef.current.contains(document.activeElement)) {\n                              dialogRef.current.querySelector(\"input\")?.focus();\n                          }\n                      }}\n                  >\n                      <div className=\"modal-content\">{props.children}</div>\n                      {trapFocus && (\n                          <a className=\"last-focusable-element\" href=\"#\">\n                              <div className=\"sr-only\">End of focus</div>\n                          </a>\n                      )}\n                  </div>\n              </div>,\n              safeDocument.body\n          );\n});\n","module.exports = \"import React from \\\"react\\\";\\nimport classnames from \\\"classnames\\\";\\nimport { Modal } from \\\"../Modal\\\";\\nimport { ResizeHandle } from \\\"./ResizeHandle\\\";\\nimport { ImagePicker } from \\\"./ImagePicker\\\";\\nimport { moveHandler, readImage, resizeHandler, Position, addListener, crop } from \\\"./utils\\\";\\nimport \\\"./image-cropper.scss\\\";\\n\\ninterface ImageCropperText {\\n    select?: string;\\n    cancel?: string;\\n    crop?: string;\\n}\\n\\nexport type ImageCropperProps = Omit<JSX.IntrinsicElements[\\\"div\\\"], \\\"onChange\\\"> & {\\n    /** The image value as string */\\n    value?: string;\\n    /** On change handler fired when image has been cropped or reset */\\n    onChange?: (image: string) => void;\\n    /** The size of the image cropper picker */\\n    size?: number;\\n    /** Texts used in the image cropper */\\n    text?: ImageCropperText;\\n};\\n\\nexport interface ClipRect {\\n    top: number;\\n    right: number;\\n    bottom: number;\\n    left: number;\\n}\\n\\nexport const ImageCropper: React.FC<ImageCropperProps> = React.memo(({ onChange, value, size = 200, text, ...props }: ImageCropperProps) => {\\n    const fileRef: React.MutableRefObject<HTMLInputElement> = React.useRef<HTMLInputElement>();\\n    const imgRef: React.MutableRefObject<HTMLImageElement> = React.useRef<HTMLImageElement>();\\n    const [modalToggle, setModalToggle] = React.useState<boolean>(false);\\n    const [imgSrc, setImgSrc] = React.useState<string>();\\n    const [croppedImgSrc, setCroppedImgSrc] = React.useState<string>(value);\\n    const [pos, setPos] = React.useState<ClipRect>({ top: 0, left: 0, bottom: 180, right: 180 });\\n\\n    /** Handles selecting a file */\\n    const handleInput = React.useCallback((event: React.FormEvent<HTMLInputElement>) => {\\n        readImage(event)\\n            .then((val: string) => {\\n                setImgSrc(val);\\n                setModalToggle(true);\\n            })\\n            .catch(console.error);\\n    }, []);\\n\\n    /** Handles dragging the cropbox */\\n    const handleMove = React.useCallback((event: React.MouseEvent | React.TouchEvent) => {\\n        addListener(event, (ev) => {\\n            moveHandler(ev, imgRef.current, setPos);\\n        });\\n    }, []);\\n\\n    /** Handles resizing the cropbox */\\n    const handleResize = React.useCallback((event: React.MouseEvent | React.TouchEvent) => {\\n        const position: Position = (event.target as HTMLElement).className.replace(\\\"handle\\\", \\\"\\\").trim() as Position;\\n\\n        addListener(event, (e: MouseEvent | TouchEvent) => {\\n            resizeHandler(e, position, imgRef.current, setPos);\\n        });\\n    }, []);\\n\\n    /** Handles cropping the image to the cropbox */\\n    const handleCrop = () => {\\n        crop(imgSrc, pos.left, pos.top, pos.right - pos.left, pos.bottom - pos.top, imgRef.current).then((img: string) => {\\n            setModalToggle(false);\\n            onChange && onChange(img);\\n        });\\n    };\\n\\n    /** Resets the image cropper */\\n    const reset = React.useCallback(() => {\\n        setCroppedImgSrc(null);\\n        setImgSrc(null);\\n        fileRef.current.value = fileRef.current.files = null;\\n        onChange && onChange(null);\\n    }, [props.onReset]);\\n\\n    React.useEffect(() => setCroppedImgSrc(value), [value]);\\n\\n    React.useEffect(() => {\\n        modalToggle && setPos({ top: 0, left: 0, bottom: 180, right: 180 });\\n    }, [modalToggle]);\\n\\n    return (\\n        <div {...props} className={classnames(\\\"rc\\\", \\\"image-cropper\\\", props.className)}>\\n            <input type=\\\"file\\\" accept=\\\"image/*\\\" ref={fileRef} onInput={handleInput} hidden />\\n\\n            <ImagePicker\\n                image={croppedImgSrc}\\n                size={size}\\n                onReset={reset}\\n                onSelect={() => {\\n                    fileRef.current.value = fileRef.current.files = null;\\n                    fileRef.current.click();\\n                }}\\n            >\\n                {text?.select}\\n            </ImagePicker>\\n\\n            <Modal toggle={modalToggle} size=\\\"lg\\\" className=\\\"image-cropper-modal\\\">\\n                <div className=\\\"modal-body\\\">\\n                    <div className=\\\"cropping-area\\\">\\n                        <img src={imgSrc} draggable={false} ref={imgRef} />\\n                        <img\\n                            className=\\\"crop-box\\\"\\n                            src={imgSrc}\\n                            style={{ clip: `rect(${pos.top}px, ${pos.right}px, ${pos.bottom}px, ${pos.left}px)` }}\\n                            draggable={false}\\n                            onMouseDown={handleMove}\\n                            onTouchStart={handleMove}\\n                        />\\n                        <ResizeHandle position=\\\"top-left\\\" coordinates={pos} handleResize={handleResize} />\\n                        <ResizeHandle position=\\\"top-right\\\" coordinates={pos} handleResize={handleResize} />\\n                        <ResizeHandle position=\\\"bottom-left\\\" coordinates={pos} handleResize={handleResize} />\\n                        <ResizeHandle position=\\\"bottom-right\\\" coordinates={pos} handleResize={handleResize} />\\n                    </div>\\n                </div>\\n                <div className=\\\"modal-footer\\\">\\n                    <div>\\n                        <button className=\\\"btn btn-outline-primary cancel\\\" onClick={() => setModalToggle(false)} type=\\\"button\\\">\\n                            {text?.cancel || \\\"Cancel\\\"}\\n                        </button>\\n                        <button className=\\\"btn btn-primary ml-3\\\" onClick={handleCrop} type=\\\"button\\\">\\n                            {text?.crop || \\\"Crop\\\"}\\n                        </button>\\n                    </div>\\n                </div>\\n            </Modal>\\n        </div>\\n    );\\n});\\n\"","import React from \"react\";\nimport classnames from \"classnames\";\nimport { ClipRect } from \"./ImageCropper\";\n\nexport interface ResizeHandleProps {\n    coordinates: ClipRect;\n    position: \"top-left\" | \"top-right\" | \"bottom-left\" | \"bottom-right\";\n    handleResize: React.MouseEventHandler | React.TouchEventHandler;\n}\n\nexport const ResizeHandle: React.FC<ResizeHandleProps> = ({ coordinates, position, handleResize, ...props }: ResizeHandleProps) => {\n    const style: React.CSSProperties = {\n        top: position.includes(\"bottom\") ? coordinates.bottom - 10 : coordinates.top,\n        left: position.includes(\"right\") ? coordinates.right - 10 : coordinates.left,\n    };\n\n    return (\n        <div\n            {...props}\n            className={classnames(\"handle\", { [position]: position })}\n            draggable={false}\n            onMouseDown={handleResize as React.MouseEventHandler}\n            onTouchStart={handleResize as React.TouchEventHandler}\n            style={style}\n        />\n    );\n};\n","import React from \"react\";\n\nexport type ImagePickerProps = React.PropsWithChildren<{\n    size: number;\n    image: string;\n    onReset: () => void;\n    onSelect: () => void;\n}>;\n\nexport const ImagePicker: React.FC<ImagePickerProps> = (props: ImagePickerProps) => {\n    return (\n        <div className=\"image-preview\" style={{ width: props.size, height: props.size }}>\n            <div className=\"preview\">\n                {props.image ? <img src={props.image} width=\"100%\" /> : ImagePlaceholderIcon}\n                <button type=\"button\" className=\"select\" onClick={props.onSelect}>\n                    {props.children || \"Select image\"}\n                </button>\n                {props.image && (\n                    <button type=\"button\" className=\"reset\" onClick={props.onReset}>\n                        &#x2715;\n                    </button>\n                )}\n            </div>\n        </div>\n    );\n};\n\nconst ImagePlaceholderIcon: JSX.Element = (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" width=\"60\" fill=\"currentColor\">\n        <path\n            fillRule=\"evenodd\"\n            d=\"M14.5 3h-13a.5.5 0 0 0-.5.5v9c0 .013 0 .027.002.04V12l2.646-2.354a.5.5 0 0 1 .63-.062l2.66 1.773 3.71-3.71a.5.5 0 0 1 .577-.094L15 9.499V3.5a.5.5 0 0 0-.5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13zm4.502 3.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\"\n        />\n    </svg>\n);\n","import { ClipRect } from \"./ImageCropper\";\n\n/**\n * Read image from input type file\n * @param event The for event triggered by selecting an image\n * @returns A promise that resolves with the image as data URI string\n */\nexport function readImage(event: React.FormEvent<HTMLInputElement>): Promise<string> {\n    return new Promise((resolve, reject) => {\n        const input: HTMLInputElement = event.target as any;\n\n        if (input.value) {\n            if (input.files && input.files[0]) {\n                const reader: FileReader = new FileReader();\n\n                reader.onload = (event: ProgressEvent<FileReader>) => {\n                    resolve(event.target.result.toString());\n                };\n\n                reader.readAsDataURL(input.files[0]);\n            } else {\n                reject(\"No files found\");\n            }\n        } else {\n            reject(\"No value detected\");\n        }\n    });\n}\n\nexport interface Coordinates {\n    x: number;\n    y: number;\n}\nexport interface Movement {\n    movementX: number;\n    movementY: number;\n}\nlet prevMovement: Coordinates = { x: 0, y: 0 };\n\n/**\n * Gets the X and Y distance that the cursor has travelled\n * @param event The mouse movement event\n * Returns an object of x and y movements\n */\nexport function getMovement(event: MouseEvent | TouchEvent): Movement {\n    let screenX: number = prevMovement.x;\n    let screenY: number = prevMovement.y;\n\n    if (event.type.includes(\"touch\")) {\n        const touchEvent: TouchEvent = event as TouchEvent;\n        if (touchEvent.touches && touchEvent.touches[0]) {\n            screenX = touchEvent.touches[0].screenX;\n            screenY = touchEvent.touches[0].screenY;\n        }\n    } else {\n        const mouseEvent: MouseEvent = event as MouseEvent;\n        screenX = mouseEvent.screenX;\n        screenY = mouseEvent.screenY;\n    }\n\n    var movementX: number = prevMovement.x ? screenX - prevMovement.x : 0;\n    var movementY: number = prevMovement.y ? screenY - prevMovement.y : 0;\n\n    prevMovement = {\n        x: screenX,\n        y: screenY,\n    };\n\n    return { movementX, movementY };\n}\n\n/**\n * A move event handler\n * @param event The mouse move event\n * @param setPos The position setter function\n * @param imgRef The image element\n */\nexport function moveHandler(event: MouseEvent | TouchEvent, img: HTMLImageElement, setPos: React.Dispatch<React.SetStateAction<ClipRect>>): void {\n    const { movementX, movementY } = getMovement(event);\n\n    if (movementX || movementY) {\n        setPos((oldPos: ClipRect) => {\n            const top: number = oldPos.top + movementY;\n            const bottom: number = oldPos.bottom + movementY;\n            const left: number = oldPos.left + movementX;\n            const right: number = oldPos.right + movementX;\n\n            const shouldUpdateY: boolean = top > -1 && bottom <= img.clientHeight;\n            const shouldUpdateX: boolean = left > -1 && right <= img.clientWidth;\n\n            return {\n                top: shouldUpdateY ? top : oldPos.top,\n                bottom: shouldUpdateY ? bottom : oldPos.bottom,\n                left: shouldUpdateX ? left : oldPos.left,\n                right: shouldUpdateX ? right : oldPos.right,\n            };\n        });\n    }\n}\n\nexport type Position = \"top-left\" | \"top-right\" | \"bottom-left\" | \"bottom-right\";\n\nexport function resizeHandler(event: MouseEvent | TouchEvent, position: Position, img: HTMLImageElement, setPos: React.Dispatch<React.SetStateAction<ClipRect>>) {\n    const { movementX, movementY } = getMovement(event);\n\n    let change: ClipRect;\n    let shouldUpdate: boolean;\n\n    switch (position) {\n        case \"top-right\":\n            setPos((oldPos: ClipRect) => {\n                change = {\n                    ...oldPos,\n                    right: oldPos.right + movementX,\n                    top: oldPos.top - movementX,\n                };\n                shouldUpdate = change.right <= img.clientWidth && change.top >= 0;\n                shouldUpdate = shouldUpdate && change.bottom - change.top >= 20 && change.right - change.left >= 20;\n                return shouldUpdate ? change : oldPos;\n            });\n            break;\n        case \"top-left\":\n            setPos((oldPos: ClipRect) => {\n                change = {\n                    ...oldPos,\n                    left: oldPos.left + movementX,\n                    top: oldPos.top + movementX,\n                };\n                shouldUpdate = change.left >= 0 && change.top >= 0;\n                shouldUpdate = shouldUpdate && change.bottom - change.top >= 20 && change.right - change.left >= 20;\n                return shouldUpdate ? change : oldPos;\n            });\n            break;\n        case \"bottom-left\":\n            setPos((oldPos: ClipRect) => {\n                change = {\n                    ...oldPos,\n                    bottom: oldPos.bottom + movementY,\n                    left: oldPos.left - movementY,\n                };\n                shouldUpdate = change.left >= 0 && change.bottom <= img.clientHeight;\n                shouldUpdate = shouldUpdate && change.bottom - change.top >= 20 && change.right - change.left >= 20;\n                return shouldUpdate ? change : oldPos;\n            });\n            break;\n        case \"bottom-right\":\n            setPos((oldPos: ClipRect) => {\n                change = {\n                    ...oldPos,\n                    bottom: oldPos.bottom + movementY,\n                    right: oldPos.right + movementY,\n                };\n                shouldUpdate = change.right <= img.clientWidth && change.bottom <= img.clientHeight;\n                shouldUpdate = shouldUpdate && change.bottom - change.top >= 20 && change.right - change.left >= 20;\n                return shouldUpdate ? change : oldPos;\n            });\n            break;\n    }\n}\n\nexport function addListener(event: React.MouseEvent | React.TouchEvent, callback: (...args: any[]) => void) {\n    let type: keyof DocumentEventMap;\n    let cancelTypes: Array<keyof DocumentEventMap> = [];\n\n    switch (event.type as keyof DocumentEventMap) {\n        case \"mousedown\":\n            type = \"mousemove\";\n            cancelTypes = [\"mouseup\", \"mouseleave\"];\n            break;\n        case \"touchstart\":\n            type = \"touchmove\";\n            cancelTypes = [\"touchend\"];\n    }\n\n    function stop() {\n        document.removeEventListener(type, callback);\n        cancelTypes.forEach((t: keyof DocumentEventMap) => {\n            document[\"on\" + t] = null;\n\n            prevMovement = {\n                x: 0,\n                y: 0,\n            };\n        });\n        document.onkeyup = null;\n    }\n\n    if (type) {\n        document.addEventListener(type, callback);\n\n        cancelTypes.forEach((cancelType: keyof DocumentEventMap) => {\n            document[\"on\" + cancelType] = stop;\n        });\n\n        document.onkeyup = (e: KeyboardEvent) => {\n            if (e.key === \"Escape\") {\n                stop();\n            }\n        };\n    }\n}\n\n/**\n * @param url The source image\n * @param x The x coordinates of the crop box\n * @param y The y coordinates of the crop box\n * @param width The width of the crop box\n * @param height The height of the crop box\n * @param imgContainer The image HTML element containing the original image\n * @return {Promise<HTMLCanvasElement>} A Promise that resolves with the resulting image as a canvas element\n */\nexport function crop(url: string, x: number, y: number, width: number, height: number, imgContainer: HTMLImageElement): Promise<string> {\n    return new Promise((resolve) => {\n        const inputImage: HTMLImageElement = new Image();\n\n        inputImage.onload = () => {\n            const canvas: HTMLCanvasElement = document.createElement(\"canvas\");\n            const maxDrawnSize: number = Math.min(imgContainer.width, imgContainer.height);\n            canvas.width = canvas.height = maxDrawnSize;\n\n            const scaleX: number = inputImage.width / imgContainer.width;\n            const scaleY: number = inputImage.height / imgContainer.height;\n\n            const ctx: CanvasRenderingContext2D = canvas.getContext(\"2d\");\n            ctx.drawImage(inputImage, x * scaleX, y * scaleY, width * scaleX, height * scaleY, 0, 0, maxDrawnSize, maxDrawnSize);\n            resolve(canvas.toDataURL());\n        };\n\n        inputImage.src = url;\n    });\n}\n","import React from \"react\";\nimport classnames from \"classnames\";\nimport { Modal } from \"../Modal\";\nimport { ResizeHandle } from \"./ResizeHandle\";\nimport { ImagePicker } from \"./ImagePicker\";\nimport { moveHandler, readImage, resizeHandler, Position, addListener, crop } from \"./utils\";\nimport \"./image-cropper.scss\";\n\ninterface ImageCropperText {\n    select?: string;\n    cancel?: string;\n    crop?: string;\n}\n\nexport type ImageCropperProps = Omit<JSX.IntrinsicElements[\"div\"], \"onChange\"> & {\n    /** The image value as string */\n    value?: string;\n    /** On change handler fired when image has been cropped or reset */\n    onChange?: (image: string) => void;\n    /** The size of the image cropper picker */\n    size?: number;\n    /** Texts used in the image cropper */\n    text?: ImageCropperText;\n};\n\nexport interface ClipRect {\n    top: number;\n    right: number;\n    bottom: number;\n    left: number;\n}\n\nexport const ImageCropper: React.FC<ImageCropperProps> = React.memo(({ onChange, value, size = 200, text, ...props }: ImageCropperProps) => {\n    const fileRef: React.MutableRefObject<HTMLInputElement> = React.useRef<HTMLInputElement>();\n    const imgRef: React.MutableRefObject<HTMLImageElement> = React.useRef<HTMLImageElement>();\n    const [modalToggle, setModalToggle] = React.useState<boolean>(false);\n    const [imgSrc, setImgSrc] = React.useState<string>();\n    const [croppedImgSrc, setCroppedImgSrc] = React.useState<string>(value);\n    const [pos, setPos] = React.useState<ClipRect>({ top: 0, left: 0, bottom: 180, right: 180 });\n\n    /** Handles selecting a file */\n    const handleInput = React.useCallback((event: React.FormEvent<HTMLInputElement>) => {\n        readImage(event)\n            .then((val: string) => {\n                setImgSrc(val);\n                setModalToggle(true);\n            })\n            .catch(console.error);\n    }, []);\n\n    /** Handles dragging the cropbox */\n    const handleMove = React.useCallback((event: React.MouseEvent | React.TouchEvent) => {\n        addListener(event, (ev) => {\n            moveHandler(ev, imgRef.current, setPos);\n        });\n    }, []);\n\n    /** Handles resizing the cropbox */\n    const handleResize = React.useCallback((event: React.MouseEvent | React.TouchEvent) => {\n        const position: Position = (event.target as HTMLElement).className.replace(\"handle\", \"\").trim() as Position;\n\n        addListener(event, (e: MouseEvent | TouchEvent) => {\n            resizeHandler(e, position, imgRef.current, setPos);\n        });\n    }, []);\n\n    /** Handles cropping the image to the cropbox */\n    const handleCrop = () => {\n        crop(imgSrc, pos.left, pos.top, pos.right - pos.left, pos.bottom - pos.top, imgRef.current).then((img: string) => {\n            setModalToggle(false);\n            onChange && onChange(img);\n        });\n    };\n\n    /** Resets the image cropper */\n    const reset = React.useCallback(() => {\n        setCroppedImgSrc(null);\n        setImgSrc(null);\n        fileRef.current.value = fileRef.current.files = null;\n        onChange && onChange(null);\n    }, [props.onReset]);\n\n    React.useEffect(() => setCroppedImgSrc(value), [value]);\n\n    React.useEffect(() => {\n        modalToggle && setPos({ top: 0, left: 0, bottom: 180, right: 180 });\n    }, [modalToggle]);\n\n    return (\n        <div {...props} className={classnames(\"rc\", \"image-cropper\", props.className)}>\n            <input type=\"file\" accept=\"image/*\" ref={fileRef} onInput={handleInput} hidden />\n\n            <ImagePicker\n                image={croppedImgSrc}\n                size={size}\n                onReset={reset}\n                onSelect={() => {\n                    fileRef.current.value = fileRef.current.files = null;\n                    fileRef.current.click();\n                }}\n            >\n                {text?.select}\n            </ImagePicker>\n\n            <Modal toggle={modalToggle} size=\"lg\" className=\"image-cropper-modal\">\n                <div className=\"modal-body\">\n                    <div className=\"cropping-area\">\n                        <img src={imgSrc} draggable={false} ref={imgRef} />\n                        <img\n                            className=\"crop-box\"\n                            src={imgSrc}\n                            style={{ clip: `rect(${pos.top}px, ${pos.right}px, ${pos.bottom}px, ${pos.left}px)` }}\n                            draggable={false}\n                            onMouseDown={handleMove}\n                            onTouchStart={handleMove}\n                        />\n                        <ResizeHandle position=\"top-left\" coordinates={pos} handleResize={handleResize} />\n                        <ResizeHandle position=\"top-right\" coordinates={pos} handleResize={handleResize} />\n                        <ResizeHandle position=\"bottom-left\" coordinates={pos} handleResize={handleResize} />\n                        <ResizeHandle position=\"bottom-right\" coordinates={pos} handleResize={handleResize} />\n                    </div>\n                </div>\n                <div className=\"modal-footer\">\n                    <div>\n                        <button className=\"btn btn-outline-primary cancel\" onClick={() => setModalToggle(false)} type=\"button\">\n                            {text?.cancel || \"Cancel\"}\n                        </button>\n                        <button className=\"btn btn-primary ml-3\" onClick={handleCrop} type=\"button\">\n                            {text?.crop || \"Crop\"}\n                        </button>\n                    </div>\n                </div>\n            </Modal>\n        </div>\n    );\n});\n","import React from \"react\";\nimport Docs from \"@common/Docs\";\nimport { ImageCropper } from \"@sebgroup/react-components/ImageCropper/ImageCropper\";\nimport { useDynamicForm } from \"@hooks/useDynamicForm\";\n\nconst importString: string = require(\"!raw-loader!@sebgroup/react-components/ImageCropper/ImageCropper\");\nconst code: string = `<ImageCropper value={image} onChange={setImage} />`;\n\nconst ImageCropperPage: React.FC = () => {\n    const [image, setImage] = React.useState<string>(\"\");\n\n    const [renderForm, { controls }] = useDynamicForm([\n        {\n            key: \"controls\",\n            items: [\n                { key: \"size\", label: \"Size\", description: \"The size of the image cropper picker in pixels\", controlType: \"Text\", value: 200 },\n                { key: \"selectText\", label: \"Select text\", description: \"The text used for selecting an image\", controlType: \"Text\", value: \"\" },\n                { key: \"cropText\", label: \"Crop text\", description: \"The text used for crop action\", controlType: \"Text\", value: \"\" },\n                { key: \"cancelText\", label: \"Cancel text\", description: \"The text used to cancel the crop\", controlType: \"Text\", value: \"\" },\n            ],\n        },\n    ]);\n\n    return (\n        <Docs\n            mainFile={importString}\n            example={\n                <div className=\"d-flex flex-column align-items-center mx-auto\">\n                    <ImageCropper\n                        value={image}\n                        onChange={setImage}\n                        size={parseInt(controls?.size) || 200}\n                        text={{ select: controls?.selectText, crop: controls?.cropText, cancel: controls?.cancelText }}\n                    />\n                </div>\n            }\n            code={code}\n            controls={renderForm()}\n        />\n    );\n};\n\nexport default ImageCropperPage;\n"],"sourceRoot":""}