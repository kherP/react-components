(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{AayG:function(e,n){e.exports='import React, { useState, useEffect } from "react";\nimport classnames from "classnames";\nimport { SVGComponent } from "./SVGComponent";\nimport "./rating.scss";\n\nexport type RatingProps = JSX.IntrinsicElements["input"] & {\n    /** Array of two colors to fill the states of the svgs */\n    colors?: [string, string];\n    /** Div wrapper props */\n    wrapperProps?: JSX.IntrinsicElements["div"];\n    /** svg to use instead of the default */\n    customSVG?: JSX.IntrinsicElements["svg"];\n    /**  name to be used for accessibility */\n    svgname?: string;\n    /** Dimensions (width/height) of the component  */\n    dimension?: number;\n};\n\n/**\n * @member 0 Grey (Unselected)\n * @member 1 Yellow (Selected)\n */\nconst initialColors: [string, string] = ["#A9A9A9", "#FFC500"];\nconst disabledColors: [string, string] = ["#dddddd", "#bfbfbf"];\n\nexport const Rating: React.FC<RatingProps> = ({ dimension = 30, colors, customSVG, wrapperProps, ...props }: RatingProps) => {\n    const [displayValue, setDisplayValue] = useState<number>(Number(props.value));\n    const [min, setMin] = useState<number>(0);\n    const [max, setMax] = useState<number>(Number(props.max) || 5);\n\n    useEffect(() => {\n        setDisplayValue(Number(props.value));\n    }, [props.value]);\n\n    useEffect(() => {\n        if (props.max) {\n            setMax(Number(props.max));\n        }\n    }, [props.max]);\n\n    useEffect(() => {\n        setMin(Number(props.min));\n    }, [props.min]);\n\n    /**\n     * Retrieves colors, either the colors passed in the props or use initialColors object\n     * @returns {Array<string>} The array of colors\n     */\n    const getColors = (): [string, string] => {\n        if (colors && colors.length) {\n            switch (colors.length) {\n                case 2:\n                    return colors;\n                default:\n                    return initialColors;\n            }\n        }\n        return props.disabled ? disabledColors : initialColors;\n    };\n\n    const onHover = (e: React.MouseEvent<HTMLInputElement>): void => {\n        !props.readOnly && setDisplayValue(calculateDisplayValue(e));\n    };\n\n    const onLeave = (): void => {\n        !props.readOnly && setDisplayValue(Number(props.value));\n    };\n\n    const calculateDisplayValue = (e: React.MouseEvent<HTMLInputElement>): number => {\n        const position: number = calculateHoverPercentage(e);\n        return max * Number(parseFloat(String(position)).toFixed(2));\n    };\n\n    const calculateHoverPercentage = (event: React.MouseEvent): number => {\n        const clientX: number = event.clientX;\n        const targetRect: DOMRect = (event.target as HTMLElement).getBoundingClientRect();\n        const delta: number = clientX - targetRect.left;\n        return delta < 0 ? 0 : delta / targetRect.width;\n    };\n\n    return (\n        <div {...wrapperProps} className={classnames("rc", "rating", wrapperProps?.className)}>\n            <div className="rating-icons">\n                {Array.apply(null, { length: max }).map((e: number, i: number) => (\n                    <SVGComponent\n                        colors={getColors()}\n                        key={i}\n                        index={i}\n                        value={displayValue}\n                        customSVG={customSVG}\n                        step={Number(props.step)}\n                        width={dimension}\n                        height={dimension}\n                        name={props.svgname}\n                    />\n                ))}\n            </div>\n            <input\n                type="range"\n                {...props}\n                onChange={!props.readOnly ? props.onChange : null}\n                onClick={!props.readOnly ? props.onClick : null}\n                onMouseEnter={onHover}\n                onMouseLeave={onLeave}\n                onMouseMove={onHover}\n            />\n        </div>\n    );\n};\n'},"cw/O":function(e,n,t){var a=t("mXGw");function r(e){return a.createElement("svg",e,a.createElement("path",{fillRule:"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"}))}r.defaultProps={},e.exports=r,r.default=r},mkCD:function(e,n,t){"use strict";t.r(n);var a=t("mXGw"),r=t.n(a),l=t("YfIq"),o=t("zLVn"),s=t("B23Y"),i=t.n(s),c=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})),u=function(e){var n=e.colors,t=e.index,l=e.value,s=e.customSVG,i=e.step,u=Object(o.a)(e,["colors","index","value","customSVG","step"]),m=Object(a.useState)(l),p=m[0],d=m[1];Object(a.useEffect)((function(){l>=t&&d(100*(l-t))}),[l]);var g=r.a.useCallback((function(e){if(i%1==0)return"url(#full_grad)";switch(i){case.5:return e||"url(#half_grad)";default:return"url(#dynamic_grad"+t+")"}}),[i,t]);return r.a.createElement("svg",Object.assign({},u,{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"}),u.name&&r.a.createElement("title",null,u.name),r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"dynamic_grad"+t},r.a.createElement("stop",{offset:p-1+"%",style:{stopColor:n[1]}}),r.a.createElement("stop",{offset:"1%",style:{stopColor:n[0]}}),r.a.createElement("stop",{offset:100-p+"%",style:{stopColor:n[0]}})),r.a.createElement("linearGradient",{id:"full_grad"},r.a.createElement("stop",{offset:"100%",stopColor:n[1]})),r.a.createElement("linearGradient",{id:"half_grad"},r.a.createElement("stop",{offset:"50%",stopColor:n[1]}),r.a.createElement("stop",{offset:"50%",stopColor:n[0]})),r.a.createElement("linearGradient",{id:"no_grad"},r.a.createElement("stop",{offset:"100%",stopColor:n[0]}))),r.a.cloneElement(s||c,{preserveAspectRatio:"xMinYMin meet",fill:l&&0!==l?l>t&&l<=t+.5?g():l>=t+1?"url(#full_grad)":l>t&&l<t+1?g("url(#full_grad)"):"url(#no_grad)":"url(#no_grad)",key:t}))},m=(t("vw5O"),["#A9A9A9","#FFC500"]),p=["#dddddd","#bfbfbf"],d=function(e){var n=e.dimension,t=void 0===n?30:n,l=e.colors,s=e.customSVG,c=e.wrapperProps,d=Object(o.a)(e,["dimension","colors","customSVG","wrapperProps"]),g=Object(a.useState)(Number(d.value)),b=g[0],f=g[1],v=Object(a.useState)(0),y=(v[0],v[1]),h=Object(a.useState)(Number(d.max)||5),E=h[0],w=h[1];Object(a.useEffect)((function(){f(Number(d.value))}),[d.value]),Object(a.useEffect)((function(){d.max&&w(Number(d.max))}),[d.max]),Object(a.useEffect)((function(){y(Number(d.min))}),[d.min]);var x=function(){if(l&&l.length)switch(l.length){case 2:return l;default:return m}return d.disabled?p:m},C=function(e){!d.readOnly&&f(k(e))},k=function(e){var n=S(e);return E*Number(parseFloat(String(n)).toFixed(2))},S=function(e){var n=e.clientX,t=e.target.getBoundingClientRect(),a=n-t.left;return a<0?0:a/t.width};return r.a.createElement("div",Object.assign({},c,{className:i()("rc","rating",null==c?void 0:c.className)}),r.a.createElement("div",{className:"rating-icons"},Array.apply(null,{length:E}).map((function(e,n){return r.a.createElement(u,{colors:x(),key:n,index:n,value:b,customSVG:s,step:Number(d.step),width:t,height:t,name:d.svgname})}))),r.a.createElement("input",Object.assign({type:"range"},d,{onChange:d.readOnly?null:d.onChange,onClick:d.readOnly?null:d.onClick,onMouseEnter:C,onMouseLeave:function(){!d.readOnly&&f(Number(d.value))},onMouseMove:C})))},g=t("gFaW"),b=t("cw/O"),f=t.n(b),v=t("AayG");n.default=function(){var e=r.a.useState(1),n=e[0],t=e[1],a=Object(g.a)([{key:"controls",items:[{key:"max",label:"Max",controlType:"Text",value:5},{key:"min",label:"Min",description:"Should no be smaller than step",controlType:"Text",value:1},{key:"step",label:"Step",controlType:"Text",value:1},{key:"dimension",label:"Icon Dimension",controlType:"Text",value:30},{key:"readOnly",label:"Read only",controlType:"Checkbox",value:!1},{key:"disabled",label:"Disabled",controlType:"Checkbox",value:!1},{key:"customSvg",label:"Custom SVG",controlType:"Checkbox",value:!1},{key:"colors",label:"Colors",options:[{key:"default",label:"Default color",value:""},{key:"greyandblack",label:"Grey & Black",value:"greyandblack"},{key:"lightblueandblue",label:"Light blue & blue",value:"lightblueandblue"},{key:"lightgreenandGreen",label:"Light green & green",value:"lg"}],controlType:"Radio"}]}]),o=a[0],s=a[1].controls,i=r.a.useCallback((function(){var e;switch(null===(e=s.colors)||void 0===e?void 0:e.key){case"greyandblack":return["grey","black"];case"lightblueandblue":return["lightblue","blue"];case"lightgreenandGreen":return["lightgreen","green"];default:return null}}),[s.colors]);return r.a.createElement(l.a,{mainFile:v,example:r.a.createElement("div",{className:"w-100 d-flex justify-content-center"},r.a.createElement(d,{id:"some-id",className:"custom-class",readOnly:s.readOnly,disabled:s.disabled,dimension:s.dimension,max:s.max,min:s.min,step:s.step,svgname:"custom name",colors:i(),customSVG:s.customSvg?r.a.createElement(f.a,null):null,value:n,onChange:function(e){t(Number(e.target.value))}})),code:"<Rating value={number} onChange={(e) => setValue(e.target.value)} />",controls:o()})}},vw5O:function(e,n,t){}}]);
//# sourceMappingURL=component---src-pages-docs-rating-tsx-382375948ab3228c5b49.js.map